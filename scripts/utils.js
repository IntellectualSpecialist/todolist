var E=1e3,f=document.querySelector("#tasks-placeholder"),y=()=>{document.querySelectorAll(".tasks__item").length===0&&f.classList.remove("hidden")},q=e=>{let t=r();t.forEach(s=>{s.id===parseInt(e.dataset.id,10)&&(s.done=!0)}),c(t),a(t)},i=e=>{let t=e.target.closest(".tasks__item"),s=t.querySelector(".task-card__label");t.classList.add("task-card--animation"),s.classList.add("task-card__label--effect"),e.target.disabled=!0,setTimeout(()=>{q(t),y()},E)};var u=1e3,C=document.querySelector("#tasks-placeholder"),L=()=>{document.querySelectorAll(".tasks__item").length===0&&C.classList.remove("hidden")},v=e=>{e.classList.add("task-card--animation");let t=r();t=t.filter(s=>s.id!==parseInt(e.dataset.id,10)),c(t),setTimeout(()=>{a(t)},u)},k=e=>{let t=e.target.closest(".tasks__item");e.target.disabled=!0,v(t),setTimeout(()=>{L()},u)};var p=e=>{let t=e.target.closest(".tasks__item"),s=r();s.forEach(n=>{n.id===parseInt(t.dataset.id,10)&&(n.name=e.target.value)}),c(s),a(s)};var T=document.querySelector(".tasks__list"),I=document.querySelector("#new-task").content.querySelector(".tasks__item"),x=document.querySelector("#tasks-placeholder"),_=document.createDocumentFragment(),b=document.querySelector(".tasks__count"),d=document.querySelector(".done__list"),N=document.querySelector("#done-task").content.querySelector(".done__item"),R=document.querySelector(".done__count"),O=document.querySelector("#done-placeholder"),l=document.createDocumentFragment(),a=e=>{T.innerHTML="",d.innerHTML="";let t=0,s=0;e.forEach(n=>{if(n.done===!1){let o=I.cloneNode(!0),g=o.querySelector(".button-icon--check"),S=o.querySelector(".button-icon--bin"),h=o.querySelector(".task-card__text");o.querySelector(".task-card__text").value=n.name,o.dataset.id=n.id,_.append(o),x.classList.add("hidden"),g.addEventListener("change",i),S.addEventListener("click",k),h.addEventListener("change",p),t+=1}else{let o=N.cloneNode(!0);o.querySelector(".task-card__text").textContent=n.name,o.dataset.id=n.id,l.append(o),d.append(l),O.classList.add("hidden"),s+=1}}),T.append(_),d.append(l),b.textContent=t,R.textContent=s};var F=5e3,P=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),D=document.createDocumentFragment(),H=document.querySelector(".add-tasks"),m=JSON.parse(localStorage.getItem("id"))||0,M=()=>(m+=1,localStorage.setItem("id",JSON.stringify(m)),m);function r(){return JSON.parse(localStorage.getItem("tasks"))||[]}var c=e=>{localStorage.setItem("tasks",JSON.stringify(e))},Z=()=>{let e=r();a(e)},$=(e,t)=>({id:M(),name:e,done:t}),ee=()=>{let e=P.cloneNode(!0);D.append(e),H.append(e),setTimeout(()=>{e.remove()},F)};export{$ as createTask,r as getTasks,Z as loadTasks,c as saveTasks,ee as showAlert};

var L=1500,k=400,l=document.querySelector(".done__list"),C=document.querySelector("#done-task").content.querySelector(".done__item"),I=document.querySelector("#done-placeholder"),i=document.createDocumentFragment(),x=()=>{let e=l.querySelector(".done__item:last-child");e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},u=e=>{let t=C.cloneNode(!0);t.classList.add("task-card--new"),t.querySelector(".task-card__text").textContent=e,i.append(t),I.classList.add("hidden"),l.append(i),setTimeout(()=>{l.querySelector(".task-card--new").classList.add("task-card--show")},k)},v=e=>{let t=r();t.forEach(s=>{s.id===parseInt(e.dataset.id,10)&&(s.done=!0)}),c(t),a(t)},T=e=>{let t=e.target.closest(".tasks__item"),s=t.querySelector(".task-card__label"),o=t.querySelector(".task-card__text").value;t.classList.add("task-card--animation"),s.classList.add("task-card__label--effect"),e.target.disabled=!0,setTimeout(()=>{u(o)},k),setTimeout(()=>{u(o),v(t),x(),d()},L)};var b=1e3,N=e=>{let t=r();t=t.filter(s=>s.id!==parseInt(e.dataset.id,10)),c(t),a(t)},p=e=>{let t=e.target.closest(".tasks__item");e.target.disabled=!0,t.classList.add("task-card--animation"),setTimeout(()=>{N(t),d()},b)};var w=(e,t)=>{let s=r();s.forEach(o=>{o.id===parseInt(e.dataset.id,10)&&(o.name=t)}),c(s),a(s)},_=e=>{let t=e.target.closest(".tasks__item"),s=e.target.value;w(t,s)};var S=document.querySelector(".tasks__list"),F=document.querySelector("#new-task").content.querySelector(".tasks__item"),O=document.querySelector("#tasks-placeholder"),E=document.createDocumentFragment(),D=document.querySelector(".tasks__count"),h=document.querySelector(".done__list"),R=document.querySelector("#done-task").content.querySelector(".done__item"),M=document.querySelector(".done__count"),P=document.querySelector("#done-placeholder"),g=document.createDocumentFragment(),a=e=>{S.innerHTML="",h.innerHTML="";let t=0,s=0;e.forEach(o=>{if(o.done===!1){let n=F.cloneNode(!0),y=n.querySelector(".button-icon--check"),q=n.querySelector(".button-icon--bin"),f=n.querySelector(".task-card__text");n.querySelector(".task-card__text").value=o.name,n.dataset.id=o.id,E.append(n),O.classList.add("hidden"),y.addEventListener("change",T),q.addEventListener("click",p),f.addEventListener("change",_),t+=1}else{let n=R.cloneNode(!0);n.querySelector(".task-card__text").textContent=o.name,n.dataset.id=o.id,g.append(n),P.classList.add("hidden"),s+=1}}),S.append(E),h.append(g),D.textContent=t,M.textContent=s};var H=5e3,A=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),J=document.createDocumentFragment(),W=document.querySelector(".add-tasks"),B=document.querySelector("#tasks-placeholder"),m=JSON.parse(localStorage.getItem("id"))||0,V=()=>(m+=1,localStorage.setItem("id",JSON.stringify(m)),m),r=()=>JSON.parse(localStorage.getItem("tasks"))||[],c=e=>{localStorage.setItem("tasks",JSON.stringify(e))},ne=()=>{let e=r();a(e)},ae=(e,t)=>({id:V(),name:e,done:t}),re=()=>{let e=A.cloneNode(!0);J.append(e),W.append(e),setTimeout(()=>{e.remove()},H)},d=()=>{document.querySelectorAll(".tasks__item").length===0&&B.classList.remove("hidden")};export{ae as createTask,r as getTasks,ne as loadTasks,c as saveTasks,re as showAlert,d as showTasksPlaceholder};

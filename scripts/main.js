var I=1e3,b=document.querySelector("#tasks-placeholder"),x=()=>{document.querySelectorAll(".tasks__item").length===0&&b.classList.remove("hidden")},F=e=>{let t=r();t.forEach(s=>{s.id===parseInt(e.dataset.id,10)&&(s.done=!0)}),c(t),n(t)},k=e=>{let t=e.target.closest(".tasks__item"),s=t.querySelector(".task-card__label");t.classList.add("task-card--animation"),s.classList.add("task-card__label--effect"),e.target.disabled=!0,setTimeout(()=>{F(t),x()},I)};var p=1e3,N=document.querySelector("#tasks-placeholder"),O=()=>{document.querySelectorAll(".tasks__item").length===0&&N.classList.remove("hidden")},d=e=>{e.classList.add("task-card--animation");let t=r();t=t.filter(s=>s.id!==parseInt(e.dataset.id,10)),c(t),setTimeout(()=>{n(t)},p)},T=e=>{let t=e.target.closest(".tasks__item");e.target.disabled=!0,d(t),setTimeout(()=>{O()},p)};var E=e=>{let t=e.target.closest(".tasks__item"),s=r();s.forEach(a=>{a.id===parseInt(t.dataset.id,10)&&(a.name=e.target.value)}),c(s),n(s)};var _=document.querySelector(".tasks__list"),R=document.querySelector("#new-task").content.querySelector(".tasks__item"),A=document.querySelector("#tasks-placeholder"),S=document.createDocumentFragment(),P=document.querySelector(".tasks__count"),l=document.querySelector(".done__list"),D=document.querySelector("#done-task").content.querySelector(".done__item"),H=document.querySelector(".done__count"),w=document.querySelector("#done-placeholder"),m=document.createDocumentFragment(),n=e=>{_.innerHTML="",l.innerHTML="";let t=0,s=0;e.forEach(a=>{if(a.done===!1){let o=R.cloneNode(!0),v=o.querySelector(".button-icon--check"),L=o.querySelector(".button-icon--bin"),C=o.querySelector(".task-card__text");o.querySelector(".task-card__text").value=a.name,o.dataset.id=a.id,S.append(o),A.classList.add("hidden"),v.addEventListener("change",k),L.addEventListener("click",T),C.addEventListener("change",E),t+=1}else{let o=D.cloneNode(!0);o.querySelector(".task-card__text").textContent=a.name,o.dataset.id=a.id,m.append(o),l.append(m),w.classList.add("hidden"),s+=1}}),_.append(S),l.append(m),P.textContent=t,H.textContent=s};var B=5e3,M=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),J=document.createDocumentFragment(),W=document.querySelector(".add-tasks"),i=JSON.parse(localStorage.getItem("id"))||0,j=()=>(i+=1,localStorage.setItem("id",JSON.stringify(i)),i);function r(){return JSON.parse(localStorage.getItem("tasks"))||[]}var c=e=>{localStorage.setItem("tasks",JSON.stringify(e))},h=()=>{let e=r();n(e)},f=(e,t)=>({id:j(),name:e,done:t}),g=()=>{let e=M.cloneNode(!0);J.append(e),W.append(e),setTimeout(()=>{e.remove()},B)};var u=document.querySelector(".add-tasks__form"),z=u.querySelector(".add-tasks__field"),G=e=>{if(e){let t=r(),s=f(e,!1);t.push(s),c(t),n(t)}else g()},K=e=>{e.preventDefault(),G(z.value),u.reset()},y=()=>{u.addEventListener("submit",K)};var Q=1e3,U=document.querySelector("#done-placeholder"),V=document.querySelector(".button-icon--clear"),X=()=>{document.querySelectorAll(".done__item").forEach(t=>{t.classList.add("task-card--animation"),d(t)}),setTimeout(()=>{U.classList.remove("hidden")},Q)},q=()=>{V.addEventListener("click",X)};h();q();y();

var E=document.querySelector(".tasks__list"),b=document.querySelector("#new-task").content.querySelector(".tasks__item"),w=document.querySelector("#tasks-placeholder"),_=document.createDocumentFragment(),N=document.querySelector(".tasks__count"),p=document.querySelector(".done__list"),D=document.querySelector("#done-task").content.querySelector(".done__item"),O=document.querySelector(".done__count"),M=document.querySelector("#done-placeholder"),S=document.createDocumentFragment(),n=e=>{E.innerHTML="",p.innerHTML="";let t=0,s=0;e.forEach(o=>{if(o.done===!1){let c=b.cloneNode(!0);c.querySelector(".task-card__text").value=o.name,c.dataset.id=o.id,_.append(c),w.classList.add("hidden"),t+=1}else{let c=D.cloneNode(!0);c.querySelector(".task-card__text").textContent=o.name,c.dataset.id=o.id,S.append(c),M.classList.add("hidden"),s+=1}}),E.append(_),p.append(S),N.textContent=t,O.textContent=s};var A=5e3,R=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),P=document.createDocumentFragment(),H=document.querySelector(".add-tasks"),W=document.querySelector("#tasks-placeholder"),l=JSON.parse(localStorage.getItem("id"))||0,B=()=>(l+=1,localStorage.setItem("id",JSON.stringify(l)),l),a=()=>JSON.parse(localStorage.getItem("tasks"))||[],r=e=>{localStorage.setItem("tasks",JSON.stringify(e))},h=()=>{let e=a();n(e)},f=(e,t)=>({id:B(),name:e,done:t}),y=()=>{let e=R.cloneNode(!0);P.append(e),H.append(e),setTimeout(()=>{e.remove()},A)},d=()=>{document.querySelectorAll(".tasks__item").length===0&&W.classList.remove("hidden")};var J=600,k=document.querySelector(".add-tasks__form"),m=k.querySelector(".add-tasks__field"),i=document.querySelector(".tasks__list"),V=document.querySelector("#new-task").content.querySelector(".tasks__item"),j=document.querySelector("#tasks-placeholder"),g=document.createDocumentFragment(),z=()=>{let e=i.querySelector(".tasks__item:last-child");e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},G=e=>{let t=V.cloneNode(!0);t.classList.add("task-card--new"),t.querySelector(".task-card__text").value=e,g.append(t),j.classList.add("hidden"),i.append(g),setTimeout(()=>{i.querySelector(".task-card--new").classList.add("task-card--show")},0)},K=e=>{let t=a(),s=f(e,!1);t.push(s),r(t),n(t)},Q=e=>{e.preventDefault();let t=m.value;t?(G(t),setTimeout(()=>{K(t),z()},J),m.blur(),k.reset(),m.focus()):y()},q=()=>{k.addEventListener("submit",Q)};var U=1500,X=400,Y=100,u=document.querySelector(".done__list"),Z=document.querySelector(".tasks__list"),$=document.querySelector("#done-task").content.querySelector(".done__item"),ee=document.querySelector("#done-placeholder"),L=document.createDocumentFragment(),te=()=>{let e=u.querySelector(".done__item:last-child");e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},se=e=>{let t=$.cloneNode(!0);t.classList.add("task-card--new"),t.querySelector(".task-card__text").textContent=e,L.append(t),ee.classList.add("hidden"),u.append(L),setTimeout(()=>{u.querySelector(".task-card--new").classList.add("task-card--show")},Y)},oe=e=>{let t=a();t.forEach(s=>{s.id===parseInt(e.dataset.id,10)&&(s.done=!0)}),r(t),n(t)},ne=e=>{if(e.target.matches(".button-icon--check")){let t=e.target.closest(".tasks__item"),s=t.querySelector(".task-card__label"),o=t.querySelector(".task-card__text").value;t.classList.add("task-card--animation"),s.classList.add("task-card__label--effect"),e.target.disabled=!0,setTimeout(()=>{se(o)},X),setTimeout(()=>{oe(t),te(),d()},U)}},v=()=>{Z.addEventListener("change",ne)};var ae=1e3,re=document.querySelector(".tasks__list"),T=e=>{let t=a();t=t.filter(s=>s.id!==parseInt(e.dataset.id,10)),r(t),n(t)},ce=e=>{if(e.target.matches(".button-icon--bin")){let t=e.target.closest(".tasks__item");e.target.disabled=!0,t.classList.add("task-card--animation"),setTimeout(()=>{T(t),d()},ae)}},I=()=>{re.addEventListener("click",ce)};var de=document.querySelector(".tasks__list"),le=(e,t)=>{let s=a();s.forEach(o=>{o.id===parseInt(e.dataset.id,10)&&(o.name=t)}),r(s),n(s)},me=e=>{if(e.target.matches(".task-card__text")){let t=e.target.closest(".tasks__item"),s=e.target.value;le(t,s)}},x=()=>{de.addEventListener("change",me)};var C=1e3,ie=document.querySelector("#done-placeholder"),ke=document.querySelector(".button-icon--clear"),ue=()=>{document.querySelectorAll(".done__item").forEach(t=>{t.classList.add("task-card--animation"),setTimeout(()=>{T(t)},C)})},Te=()=>{ue(),setTimeout(()=>{ie.classList.remove("hidden")},C)},F=()=>{ke.addEventListener("click",Te)};h();q();v();I();x();F();

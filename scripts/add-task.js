var m=document.querySelector(".tasks__list"),y=document.querySelector("#new-task").content.querySelector(".tasks__item"),q=document.querySelector("#tasks-placeholder"),u=document.createDocumentFragment(),h=document.querySelector(".tasks__count"),k=document.querySelector(".done__list"),g=document.querySelector("#done-task").content.querySelector(".done__item"),f=document.querySelector(".done__count"),L=document.querySelector("#done-placeholder"),i=document.createDocumentFragment(),a=e=>{m.innerHTML="",k.innerHTML="";let t=0,o=0;e.forEach(n=>{if(n.done===!1){let s=y.cloneNode(!0);s.querySelector(".task-card__text").value=n.name,s.dataset.id=n.id,u.append(s),q.classList.add("hidden"),t+=1}else{let s=g.cloneNode(!0);s.querySelector(".task-card__text").textContent=n.name,s.dataset.id=n.id,i.append(s),L.classList.add("hidden"),o+=1}}),m.append(u),k.append(i),h.textContent=t,f.textContent=o};var F=5e3,v=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),w=document.createDocumentFragment(),x=document.querySelector(".add-tasks"),M=document.querySelector("#tasks-placeholder"),r=JSON.parse(localStorage.getItem("id"))||0,N=()=>(r+=1,localStorage.setItem("id",JSON.stringify(r)),r),S=()=>JSON.parse(localStorage.getItem("tasks"))||[],T=e=>{localStorage.setItem("tasks",JSON.stringify(e))};var p=(e,t)=>({id:N(),name:e,done:t}),_=()=>{let e=v.cloneNode(!0);w.append(e),x.append(e),setTimeout(()=>{e.remove()},F)};var I=600,d=document.querySelector(".add-tasks__form"),c=d.querySelector(".add-tasks__field"),l=document.querySelector(".tasks__list"),C=document.querySelector("#new-task").content.querySelector(".tasks__item"),D=document.querySelector("#tasks-placeholder"),E=document.createDocumentFragment(),O=()=>{let e=l.querySelector(".tasks__item:last-child");e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},b=e=>{let t=C.cloneNode(!0);t.classList.add("task-card--new"),t.querySelector(".task-card__text").value=e,E.append(t),D.classList.add("hidden"),l.append(E),setTimeout(()=>{l.querySelector(".task-card--new").classList.add("task-card--show")},0)},A=e=>{let t=S(),o=p(e,!1);t.push(o),T(t),a(t)},P=e=>{e.preventDefault();let t=c.value;t?(b(t),setTimeout(()=>{A(t),O()},I),c.blur(),d.reset(),c.focus()):_()},j=()=>{d.addEventListener("submit",P)};export{j as setFormEvents};

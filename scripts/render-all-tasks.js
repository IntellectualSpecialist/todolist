var A=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),J=document.createDocumentFragment(),W=document.querySelector(".add-tasks"),f=document.querySelector("#tasks-placeholder"),B=JSON.parse(localStorage.getItem("id"))||0;var r=()=>JSON.parse(localStorage.getItem("tasks"))||[],c=t=>{localStorage.setItem("tasks",JSON.stringify(t))};var d=()=>{document.querySelectorAll(".tasks__item").length===0&&f.classList.remove("hidden")};var L=1500,u=400,l=document.querySelector(".done__list"),C=document.querySelector("#done-task").content.querySelector(".done__item"),I=document.querySelector("#done-placeholder"),m=document.createDocumentFragment(),x=()=>{let t=l.querySelector(".done__item:last-child");t&&t.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},i=t=>{let e=C.cloneNode(!0);e.classList.add("task-card--new"),e.querySelector(".task-card__text").textContent=t,m.append(e),I.classList.add("hidden"),l.append(m),setTimeout(()=>{l.querySelector(".task-card--new").classList.add("task-card--show")},u)},v=t=>{let e=r();e.forEach(s=>{s.id===parseInt(t.dataset.id,10)&&(s.done=!0)}),c(e),a(e)},k=t=>{let e=t.target.closest(".tasks__item"),s=e.querySelector(".task-card__label"),o=e.querySelector(".task-card__text").value;e.classList.add("task-card--animation"),s.classList.add("task-card__label--effect"),t.target.disabled=!0,setTimeout(()=>{i(o)},u),setTimeout(()=>{i(o),v(e),x(),d()},L)};var b=1e3,N=t=>{let e=r();e=e.filter(s=>s.id!==parseInt(t.dataset.id,10)),c(e),a(e)},T=t=>{let e=t.target.closest(".tasks__item");t.target.disabled=!0,e.classList.add("task-card--animation"),setTimeout(()=>{N(e),d()},b)};var w=(t,e)=>{let s=r();s.forEach(o=>{o.id===parseInt(t.dataset.id,10)&&(o.name=e)}),c(s),a(s)},p=t=>{let e=t.target.closest(".tasks__item"),s=t.target.value;w(e,s)};var _=document.querySelector(".tasks__list"),F=document.querySelector("#new-task").content.querySelector(".tasks__item"),O=document.querySelector("#tasks-placeholder"),S=document.createDocumentFragment(),D=document.querySelector(".tasks__count"),E=document.querySelector(".done__list"),R=document.querySelector("#done-task").content.querySelector(".done__item"),M=document.querySelector(".done__count"),P=document.querySelector("#done-placeholder"),h=document.createDocumentFragment(),a=t=>{_.innerHTML="",E.innerHTML="";let e=0,s=0;t.forEach(o=>{if(o.done===!1){let n=F.cloneNode(!0),g=n.querySelector(".button-icon--check"),y=n.querySelector(".button-icon--bin"),q=n.querySelector(".task-card__text");n.querySelector(".task-card__text").value=o.name,n.dataset.id=o.id,S.append(n),O.classList.add("hidden"),g.addEventListener("change",k),y.addEventListener("click",T),q.addEventListener("change",p),e+=1}else{let n=R.cloneNode(!0);n.querySelector(".task-card__text").textContent=o.name,n.dataset.id=o.id,h.append(n),P.classList.add("hidden"),s+=1}}),_.append(S),E.append(h),D.textContent=e,M.textContent=s};export{a as renderTasks};

var f=1e3,L=t=>{let e=r();e=e.filter(s=>s.id!==parseInt(t.dataset.id,10)),c(e),a(e)},m=t=>{let e=t.target.closest(".tasks__item");t.target.disabled=!0,e.classList.add("task-card--animation"),setTimeout(()=>{L(e),d()},f)};var C=(t,e)=>{let s=r();s.forEach(o=>{o.id===parseInt(t.dataset.id,10)&&(o.name=e)}),c(s),a(s)},u=t=>{let e=t.target.closest(".tasks__item"),s=t.target.value;C(e,s)};var i=document.querySelector(".tasks__list"),I=document.querySelector("#new-task").content.querySelector(".tasks__item"),x=document.querySelector("#tasks-placeholder"),k=document.createDocumentFragment(),v=document.querySelector(".tasks__count"),T=document.querySelector(".done__list"),N=document.querySelector("#done-task").content.querySelector(".done__item"),b=document.querySelector(".done__count"),w=document.querySelector("#done-placeholder"),p=document.createDocumentFragment(),a=t=>{i.innerHTML="",T.innerHTML="";let e=0,s=0;t.forEach(o=>{if(o.done===!1){let n=I.cloneNode(!0),h=n.querySelector(".button-icon--check"),y=n.querySelector(".button-icon--bin"),q=n.querySelector(".task-card__text");n.querySelector(".task-card__text").value=o.name,n.dataset.id=o.id,k.append(n),x.classList.add("hidden"),h.addEventListener("change",_),y.addEventListener("click",m),q.addEventListener("change",u),e+=1}else{let n=N.cloneNode(!0);n.querySelector(".task-card__text").textContent=o.name,n.dataset.id=o.id,p.append(n),w.classList.add("hidden"),s+=1}}),i.append(k),T.append(p),v.textContent=e,b.textContent=s};var U=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),X=document.createDocumentFragment(),Y=document.querySelector(".add-tasks"),F=document.querySelector("#tasks-placeholder"),Z=JSON.parse(localStorage.getItem("id"))||0;var r=()=>JSON.parse(localStorage.getItem("tasks"))||[],c=t=>{localStorage.setItem("tasks",JSON.stringify(t))};var d=()=>{document.querySelectorAll(".tasks__item").length===0&&F.classList.remove("hidden")};var O=1500,g=400,l=document.querySelector(".done__list"),D=document.querySelector("#done-task").content.querySelector(".done__item"),R=document.querySelector("#done-placeholder"),S=document.createDocumentFragment(),M=()=>{let t=l.querySelector(".done__item:last-child");t&&t.scrollIntoView(!1)},E=t=>{let e=D.cloneNode(!0);e.classList.add("task-card--new"),e.querySelector(".task-card__text").textContent=t,S.append(e),R.classList.add("hidden"),l.append(S),setTimeout(()=>{l.querySelector(".task-card--new").classList.add("task-card--show")},g)},P=t=>{let e=r();e.forEach(s=>{s.id===parseInt(t.dataset.id,10)&&(s.done=!0)}),c(e),a(e)},_=t=>{let e=t.target.closest(".tasks__item"),s=e.querySelector(".task-card__label"),o=e.querySelector(".task-card__text").value;e.classList.add("task-card--animation"),s.classList.add("task-card__label--effect"),t.target.disabled=!0,setTimeout(()=>{E(o)},g),setTimeout(()=>{E(o),P(e),M(),d()},O)};export{_ as onCheckChange};

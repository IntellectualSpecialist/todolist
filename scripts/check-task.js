var r=document.querySelector(".tasks__list"),S=document.querySelector("#new-task").content.querySelector(".tasks__item"),T=document.querySelector("#tasks-placeholder"),d=document.createDocumentFragment(),p=document.querySelector(".tasks__count"),l=document.querySelector(".done__list"),E=document.querySelector("#done-task").content.querySelector(".done__item"),h=document.querySelector(".done__count"),y=document.querySelector("#done-placeholder"),m=document.createDocumentFragment(),a=e=>{r.innerHTML="",l.innerHTML="";let t=0,s=0;e.forEach(o=>{if(o.done===!1){let n=S.cloneNode(!0);n.querySelector(".task-card__text").value=o.name,n.dataset.id=o.id,d.append(n),T.classList.add("hidden"),t+=1}else{let n=E.cloneNode(!0);n.querySelector(".task-card__text").textContent=o.name,n.dataset.id=o.id,m.append(n),y.classList.add("hidden"),s+=1}}),r.append(d),l.append(m),p.textContent=t,h.textContent=s};var M=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),b=document.createDocumentFragment(),v=document.querySelector(".add-tasks"),g=document.querySelector("#tasks-placeholder"),P=JSON.parse(localStorage.getItem("id"))||0;var u=()=>JSON.parse(localStorage.getItem("tasks"))||[],i=e=>{localStorage.setItem("tasks",JSON.stringify(e))};var k=()=>{document.querySelectorAll(".tasks__item").length===0&&g.classList.remove("hidden")};var q=1500,L=400,f=100,c=document.querySelector(".done__list"),I=document.querySelector(".tasks__list"),N=document.querySelector("#done-task").content.querySelector(".done__item"),x=document.querySelector("#done-placeholder"),_=document.createDocumentFragment(),C=()=>{let e=c.querySelector(".done__item:last-child");e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},D=e=>{let t=N.cloneNode(!0);t.classList.add("task-card--new"),t.querySelector(".task-card__text").textContent=e,_.append(t),x.classList.add("hidden"),c.append(_),setTimeout(()=>{c.querySelector(".task-card--new").classList.add("task-card--show")},f)},F=e=>{let t=u();t.forEach(s=>{s.id===parseInt(e.dataset.id,10)&&(s.done=!0)}),i(t),a(t)},O=e=>{if(e.target.matches(".button-icon--check")){let t=e.target.closest(".tasks__item"),s=t.querySelector(".task-card__label"),o=t.querySelector(".task-card__text").value;t.classList.add("task-card--animation"),s.classList.add("task-card__label--effect"),e.target.disabled=!0,setTimeout(()=>{D(o)},L),setTimeout(()=>{F(t),C(),k()},q)}},W=()=>{I.addEventListener("change",O)};export{O as onCheckChange,W as setCheckTaskEvent};

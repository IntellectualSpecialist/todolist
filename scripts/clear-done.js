var C=1500,k=400,l=document.querySelector(".done__list"),I=document.querySelector("#done-task").content.querySelector(".done__item"),v=document.querySelector("#done-placeholder"),u=document.createDocumentFragment(),x=()=>{let t=l.querySelector(".done__item:last-child");t&&t.scrollIntoView(!1)},i=t=>{let e=I.cloneNode(!0);e.classList.add("task-card--new"),e.querySelector(".task-card__text").textContent=t,u.append(e),v.classList.add("hidden"),l.append(u),setTimeout(()=>{l.querySelector(".task-card--new").classList.add("task-card--show")},k)},N=t=>{let e=r();e.forEach(o=>{o.id===parseInt(t.dataset.id,10)&&(o.done=!0)}),c(e),a(e)},T=t=>{let e=t.target.closest(".tasks__item"),o=e.querySelector(".task-card__label"),s=e.querySelector(".task-card__text").value;e.classList.add("task-card--animation"),o.classList.add("task-card__label--effect"),t.target.disabled=!0,setTimeout(()=>{i(s)},k),setTimeout(()=>{i(s),N(e),x(),d()},C)};var b=(t,e)=>{let o=r();o.forEach(s=>{s.id===parseInt(t.dataset.id,10)&&(s.name=e)}),c(o),a(o)},p=t=>{let e=t.target.closest(".tasks__item"),o=t.target.value;b(e,o)};var _=document.querySelector(".tasks__list"),O=document.querySelector("#new-task").content.querySelector(".tasks__item"),w=document.querySelector("#tasks-placeholder"),E=document.createDocumentFragment(),D=document.querySelector(".tasks__count"),S=document.querySelector(".done__list"),F=document.querySelector("#done-task").content.querySelector(".done__item"),M=document.querySelector(".done__count"),R=document.querySelector("#done-placeholder"),h=document.createDocumentFragment(),a=t=>{_.innerHTML="",S.innerHTML="";let e=0,o=0;t.forEach(s=>{if(s.done===!1){let n=O.cloneNode(!0),q=n.querySelector(".button-icon--check"),f=n.querySelector(".button-icon--bin"),L=n.querySelector(".task-card__text");n.querySelector(".task-card__text").value=s.name,n.dataset.id=s.id,E.append(n),w.classList.add("hidden"),q.addEventListener("change",T),f.addEventListener("click",g),L.addEventListener("change",p),e+=1}else{let n=F.cloneNode(!0);n.querySelector(".task-card__text").textContent=s.name,n.dataset.id=s.id,h.append(n),R.classList.add("hidden"),o+=1}}),_.append(E),S.append(h),D.textContent=e,M.textContent=o};var ee=document.querySelector("#error-message").content.querySelector(".add-tasks__error"),te=document.createDocumentFragment(),oe=document.querySelector(".add-tasks"),P=document.querySelector("#tasks-placeholder"),se=JSON.parse(localStorage.getItem("id"))||0;var r=()=>JSON.parse(localStorage.getItem("tasks"))||[],c=t=>{localStorage.setItem("tasks",JSON.stringify(t))};var d=()=>{document.querySelectorAll(".tasks__item").length===0&&P.classList.remove("hidden")};var H=1e3,m=t=>{let e=r();e=e.filter(o=>o.id!==parseInt(t.dataset.id,10)),c(e),a(e)},g=t=>{let e=t.target.closest(".tasks__item");t.target.disabled=!0,e.classList.add("task-card--animation"),setTimeout(()=>{m(e),d()},H)};var y=1e3,A=document.querySelector("#done-placeholder"),B=document.querySelector(".button-icon--clear"),W=()=>{document.querySelectorAll(".done__item").forEach(e=>{e.classList.add("task-card--animation"),setTimeout(()=>{m(e)},y)})},J=()=>{W(),setTimeout(()=>{A.classList.remove("hidden")},y)},le=()=>{B.addEventListener("click",J)};export{le as setClearButtonsEvents};
